# 文档比对与AI分析工具需求文档

## 1. 工具名称

文档智能比对分析工具

## 2. 工具描述

一款用于比对两篇doc文档差异并进行AI智能分析的在线工具，帮助用户快速发现文档变化并理解差异内容。

## 3. 核心功能

### 3.1 文档上传

- 支持用户上传2篇doc格式文档（.doc/.docx）
- 支持拖拽上传和点击上传两种方式
- 上传后显示文件名称和大小
- 实时文件验证，仅接受Word文档格式

### 3.2 文档比对

- 自动对比两篇文档内容
- 使用词级别差异检测算法
- 高亮显示差异部分，包括新增内容、删除内容
- 差异内容以不同颜色标识区分：
  - 黄色背景：新增内容
  - 红色背景 + 删除线：删除内容
- 左右对照展示，方便用户对比查看

### 3.3 AI智能分析

- 接入文心大模型进行智能分析
- 针对差异部分自动生成总结报告
- 提供差异点的评论和分析说明
- 分析内容包括：
  - 差异概览
  - 新增内容分析（类型、目的、重要程度、影响）
  - 删除内容分析（类型、原因、重要程度、影响）
  - 总体评价和建议
- 支持流式输出，实时显示分析结果
- 使用 Markdown 格式展示分析报告

### 3.4 结果展示

- 三栏布局：
  - 左栏：原始文档（文档1）
  - 中栏：修改文档（文档2）
  - 右栏：AI分析结果面板
- 差异高亮显示，清晰标识变更位置
- 可滚动查看完整文档内容
- AI分析面板实时更新，支持流式显示

## 4. 设计风格

- 配色方案：以科技蓝（#2E5BFF）为主色调
  - 主色调：hsl(221, 83%, 53%)
  - 差异高亮：
    - 新增：hsl(48, 96%, 53%) - 黄色
    - 删除：hsl(0, 84%, 60%) - 红色
    - 修改：hsl(25, 95%, 53%) - 橙色
- 布局方式：采用三栏对照式布局，响应式设计
- 视觉细节：
  - 使用 8px 圆角（border-radius）
  - 添加轻微阴影增强层次感
  - 图标采用 Lucide React 线性风格
  - 渐变背景增强视觉效果
- 交互反馈：
  - 上传区域悬停效果
  - 按钮加载状态动画
  - Toast 消息提示
  - 流式文本动态显示

## 5. 技术实现

### 5.1 前端技术栈

- React 18 + TypeScript
- Tailwind CSS + shadcn/ui 组件库
- Vite 构建工具

### 5.2 核心依赖

- mammoth：解析 Word 文档
- diff：文本差异比对
- ky：HTTP 客户端
- eventsource-parser：SSE 流式解析
- streamdown：Markdown 渲染
- react-dropzone：文件拖拽上传

### 5.3 AI 集成

- 使用文心文本生成大模型接口
- 支持流式响应
- 智能提示词工程，确保分析质量

## 6. 用户体验优化

- 友好的错误提示
- 加载状态反馈
- 响应式设计，支持桌面和移动端
- 无缝的文件上传体验
- 实时的AI分析反馈
